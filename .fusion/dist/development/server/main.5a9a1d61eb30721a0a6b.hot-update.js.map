{"version":3,"file":"main.5a9a1d61eb30721a0a6b.hot-update.js","sources":["/home/rook/repos/password-manager/src/components/password-entry/index.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { FormControl } from \"baseui/form-control\";\nimport { Input } from \"baseui/input\";\nimport { Slider } from \"baseui/slider\";\nimport { Checkbox } from \"baseui/checkbox\";\nimport { ProgressBar } from \"baseui/progress-bar\";\nimport { generate as generatePassword } from \"generate-password\";\nimport zxcvbn from \"zxcvbn\";\n\nconst MAXLENGTH = 64;\nconst MINLENGTH = 4;\n\nexport default () => {\n  const [length, setLength] = useState(~~(MAXLENGTH / 2));\n  const [uppercase, setUppercase] = useState(false);\n  const [numbers, setNumbers] = useState(false);\n  const [symbols, setSymbols] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const [strength, setStrength] = useState(null);\n  const [password, setPassword] = React.useState(\"\");\n\n  const setNewPassword = (p) => {\n    const newPassword = p\n      ? p\n      : generatePassword({ length, numbers, uppercase, symbols });\n    const obj = zxcvbn(newPassword);\n    setStrength(obj.guesses_log10);\n    setCopied(false);\n    setPassword(newPassword);\n  };\n\n  useEffect(() => {\n    setNewPassword();\n  }, [length, uppercase, symbols, numbers, strength]);\n\n  return (\n    <div>\n      <FormControl\n        label={() => \"Password\"}\n        caption={() => \"Choose a strong password\"}\n      >\n        <Input\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          type=\"password\"\n          placeholder=\"Enter password\"\n          clearable\n          clearOnEscape\n        />\n      </FormControl>\n      <ProgressBar value={strength} successValue={100} />;\n      <Slider\n        min={MINLENGTH}\n        max={MAXLENGTH}\n        value={[length]}\n        onChange={({ value }) => setLength(value[0])}\n      />\n      <FormControl label=\"Characters\">\n        <div>\n          <Checkbox\n            checked={uppercase}\n            onChange={() => setUppercase(!uppercase)}\n          >\n            A-Z\n          </Checkbox>\n          <Checkbox checked={numbers} onChange={() => setNumbers(!numbers)}>\n            0-9\n          </Checkbox>\n          <Checkbox checked={symbols} onChange={() => setSymbols(!symbols)}>\n            %@#\n          </Checkbox>\n        </div>\n      </FormControl>\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;A","sourceRoot":""}